# WIP 職務経歴書

# 目次

- [基本情報](#基本情報)
- [技術スタック](#技術スタック)
- [自己PR](#自己pr)
- [今後やりたいこと](#今後やりたいこと)
- [職務経歴](#職務経歴)
- [その他](#その他)

# 基本情報

|項目|詳細|
|---|---|
|氏名|早瀬和輝|
|生年月日|1999/01/02|
|居住地|東京都|
|GitHub|https://github.com/KazukiHayase|
|X|https://x.com/KazukiHayase|
|Zenn|https://zenn.dev/kazu777|
|Speaker Deck|https://speakerdeck.com/Kazukihayase|

# 技術スタック

|項目|詳細|
|---|---|
|インフラ|Google Cloud、AWS、Terraform、SAM|
|データベース|PostgreSQL、DynamoDB|
|バックエンド|GraphQL、Hasura、OpenAPI、OpenAPI Generator、oapi-codegen、Go、Ruby on Rails、Elasticsearch|
|フロントエンド|React、Next.js、TypeScript、Apollo Client、GraphQL Code Generator、React Hook Form、zod、MUI、Storybook|
|CI・CD|GitHub Actions、CircleCI|
|ツール|Jira、Confluence、Slack、Sentry|

<div align="left"> 
  <img alt="github stats" height="200px" src="https://github-readme-stats-taupe-alpha-61.vercel.app/api?username=KazukiHayase&count_private=true&show_icons=true&show_icons=true&theme=onedark" />
  <img alt="Top Langs" height="200px" src="https://github-readme-stats-taupe-alpha-61.vercel.app/api/top-langs/?username=KazukiHayase&count_private=true&show_icons=true&theme=onedark&exclude_repo=dotfiles,github-readme-stats" />
</div>

# WIP: 自己PR

<!-- - なぜやるかを考えるのが得意、やらない意思決定 -->
<!-- - 幅広さ、なんでもやります -->
<!--     - 面接、インターン、WG、外部登壇、ブログ執筆 -->
<!-- - 課題の発見~仕組み化までできる -->
<!-- - 圧倒的なアウトプット -->
<!--   - 2024 -->
<!--       - 作成: 806PR -->
<!--       - レビュー: 3993PR -->
<!--   - 2023 -->
<!--       - 作成: 1028PR -->
<!--       - レビュー: 3276PR -->

# WIP: 今後やりたいこと

# 職務経歴

## 2021/04 ~ 現在 株式会社 BuySell Technologies

### リユース特化のOMS（Order Management System）の開発

複数のECサイトへの出品・受注業務を一元管理するWebアプリケーションの開発。
複数のECサイトへの出品や受注管理を他社SaaSで行っていたが、パフォーマンスが低さや不具合の多さから、事業のスケールを阻害していたため、内製で開発を行うことになった。
自社だけの利用ではなく、将来的にSaaSとして外部に提供していくことも考慮して設計・実装を行った。

長期プロジェクトのため、下記のようにフェーズを分割し、それぞれのフェーズごとに記載

1. [Phase2: リリース~](#リユース特化のOMSorder-management-systemの開発-phase2)
2. [Phase1: プロジェクト再定義~リリース](#リユース特化のOMSorder-management-systemの開発-phase1)
3. [Phase0: プロジェクト発足~プロジェクト再定義](#リユース特化のOMSorder-management-systemの開発-phase0)

### リユース特化のOMS（Order Management System）の開発 Phase2

#### 概要

|項目|詳細|
|---|---|
|期間|2024/10~|
|チーム構成|EM 1名、PdM 1名、バックエンド 8名、フロントエンド 2名|
|役割|プロジェクトマネージャー、テックリード|
|使用技術|Phase0と同じ|

#### プロジェクト内容

リユース特化のOMS（Order Management System）のリリース以降のフェーズ。

プロダクトがリリースされ、ユーザーからのフィードバックを受け、新たな機能の追加や既存機能の改善を行った。
アラートの対応やチーム体制の変更など、運用フェーズに合わせてプロジェクトの進行を行った。

#### 担当業務

- プロジェクトマネジメント
    - スケジュール管理
- バックエンド
    - 技術選定
    - DB設計
    - 機能実装
- フロントエンド
    - 技術選定
    - コンポーネント設計
    - 機能実装

#### 主要実績

##### Jiraの運用改善

上場企業であるため、Jiraの運用には監査対応を考慮する必要があった。一方で、迅速かつ柔軟な開発を実現するためには、開発効率を損なわない工夫も欠かせなかった。
この課題に対して、自動化の活用やワークフローの整備を進めることで、監査要件を満たしつつ、開発のしやすさを維持する体制を構築した。
これにより、運用の効率化と開発チームの負担軽減を両立させた。

### リユース特化のOMS（Order Management System）の開発 Phase1

#### 概要

|項目|詳細|
|---|---|
|期間|2022/08~2024/09|
|チーム構成|EM 1名、PdM 1名、バックエンド 8名、フロントエンド 1名|
|役割|プロジェクトマネージャー、テックリード|
|使用技術|Phase0と同じ|

#### プロジェクト内容

リユース特化のOMS（Order Management System）の開発のプロジェクト再定義~リリースのフェーズ。

プロジェクトの再定義が行われたため、設計の見直しや開発体制の整備を行った。
外部APIの仕様変更やメンバーの増減による開発体制の変更など、プロジェクトの進行において様々な課題が発生したが、その都度臨機応変に対応し、全てのマイルストーンを達成しながらスケジュール通りにリリースに至った。

#### 担当業務

- プロジェクトマネジメント
    - ユーザーストーリーマッピングの作成
    - スケジュール管理
- バックエンド
    - 技術選定
    - DB設計
    - 機能実装
- フロントエンド
    - 技術選定
    - コンポーネント設計
    - 機能実装

#### 主要実績

##### ユーザー志向での開発

PdMと共にユーザーヒアリングや業務見学を実施し、得られた知見を活用して、よりユーザーに寄り添った開発を行った。
ユーザーストーリーマッピングや業務フロー図の作成、スコープ調整など、PdM業務の一部も担当した。
これにより、プロダクトのビジョンや仕様を深く理解し、高速かつ中長期的な視点を踏まえた設計・実装が可能となった。

##### フルスタックなチーム作り

チームにフロントエンドエンジニアが私のみで、私の作業時間が確保できず、フロントエンドの開発が滞ってしまうことがあった。
その際に、モブプロ・勉強会の開催や、開発体制の整備を行うことで、私以外のメンバーでもフロントエンドの開発が行えるようになった。
具体的な取り組みに関しては、下記を参照。

[自分だけが頑張るのをやめて、フルスタックなチームを作る](https://speakerdeck.com/kazukihayase/zi-fen-dakegawan-zhang-runowoyamete-hurusutatukunatimuwozuo-ru)

##### スケジュール調整

私のチームではスクラムを導入しており、スプリントごとにスプリントゴールに向けた開発を行っていた。
しかし、想定外のタスクが発生したり、メンバーの減員があったことで、スケジュールに遅れが生じていた。
そこで、スコープの調整と開発体制の変更を行った。

スコープ調整では、PdMと協働して機能の優先度を見直しを行いながら、機能の削減や代替案の提示を行った。
機能ではなく、ユーザーが実現したい価値にフォーカスした削減案や代替案を提示することで、ユーザーとの合意をとりながらスコープを調整した。
また、理想仕様では開発に時間がかかるが、暫定仕様であれば短期間でリリースできる場合もあったため、その場合は暫定仕様で実装し、後から理想仕様に変更することも行った。

<!--
e.g. 
- GUIでのCSVインポート・エクスポートをGCSで代替
- eBayのBestOfferで毎回ダブルブッキング表示になるのを許容
- 在庫変動履歴をテックのログ調査で肩代わり
-->

開発体制の変更においては、スクラムイベントを一時的に中断して開発時間を捻出し、各メンバーに個別のタスクを割り当てることでキャッチアップコストを削減した。
それにより、属人化やエンゲージメントの低下などの懸念があったが、それらはトレードオフとして受け入れ、
それらを行う決断をした。

これらの取り組みにより、全てのマイルストーンを達成しながら、スケジュール通りにリリースに至った。

##### 可変項目のDB設計

ユーザーが自由に商品に対して項目や選択肢を定義でき、それを使った複雑かつ高速な検索が求められていた。
この要件を満たすため、商品の可変属性データはPostgreSQLでEAV（Entity-Attribute-Value）を用いて管理し、そのデータをElasticsearchに同期して検索を行う方式を採用した。

テナントによって保持する項目が異なるため、物理カラムを持つDB設計では柔軟性が足りなかった。
そのため、PostgreSQLを採用するにしても、EAV（Entity-Attribute-Value）やJSONカラムなどの方式を採用する必要があったが、どちらの場合も効率的なインデックスを作成するのが難しく、実際に検索速度の調査を行なった結果も踏まえて、RDBでは検索性能が求めるレベルに達しないと判断した。
NoSQLの検討も行ったが、Phase0でPostgreSQLを使用して実装されている箇所が多く存在し、変更が容易ではなかったため、NoSQLは採用しないこととした。

PostgreSQLでのデータの保持方法については、JSONカラムとEAVのいずれを採用するか検討した結果、EAVを採用した。
JSONカラムでは外部キー制約を設定できないのに対し、EAVは設計次第で外部キー制約を設定することが可能である。
さらに、別の機能要件やElasticsearchへの連携を考慮した結果、値を配列で保持する形式の方が実装が容易であると判断したためである。

この設計により、既存サービスと比較して、検索速度を1/10程度にすることができた。

##### 外部APIとの連携実装

プロダクトの性質上、外部APIとの連携が非常に多く、それらを効率的に実装する必要があった。
連携先によって、インターフェースは様々で、REST API、GraphQL、SOAPなどが混在していた。
そこで、外部APIの呼び出し部分は、OpenAPI Generatorとgenqlientを用いて自動生成することで、開発フローを統一し、開発効率を向上させた。

[3年間に及ぶ新規プロダクト開発の技術選定の振り返り-OpenAPI Generator/genqlient](https://tech.buysell-technologies.com/entry/adventcalendar2024-12-01#OpenAPI-Generatorgenqlient)

##### バックエンドの自動テストの整備

開発が進むにつれて、モックやテストデータのセットアップが複雑であることや、記法が統一されていないことなど、バックエンドの自動テストに関連する複数の課題が顕著になり、それにより開発効率が低下していた。
そこで、バックエンドの自動テストの整備を行い、開発効率の向上を図った。
具体的な取り組みに関しては下記を参照。


[Goでテストをしやすくするためにやったこと](https://speakerdeck.com/kazukihayase/gotetesutowosiyasukusurutameniyatutakoto)
[GoのTestifyを使って独立したサブテストを実現する](https://tech.buysell-technologies.com/entry/2023/11/30/091518)
[Goのジェネリクスを使って、テーブル駆動テスト(TDT)に統一性を持たせる](https://zenn.dev/buyselltech/articles/ef92713b8dde8a)

##### フロントエンド構成の整備

開発効率の向上や属人化の防止を目的として、フロントエンドの構成を整備した。
ルールを設けたり明文化することは重要だが、ルールの認知漏れや認識齟齬がどうしても発生してしまう。
そのため、自動生成ツールを整備やCIへの組み込みなど、可能な限り仕組み化・自動化を意識して整備を行った。
具体的な取り組みに関しては下記を参照。

[開発効率を上げるためのモダンなフロントエンド構成](https://tech.buysell-technologies.com/entry/adventcalendar2023-12-01)
[MUIをベースにしたデザインシステムの構築](https://tech.buysell-technologies.com/entry/2023/01/31/000000)
[graphql-eslintを使用してGraphQLの命名規則を強制するカスタムルールを作る](https://zenn.dev/buyselltech/articles/fc1479f4fed63d)

##### React Hook Form + MUIのフォームコンポーネント設計

MUI v5とReact Hook Form（RHF） v7を用いたフォーム実装で、設計ルールが整備されておらず、複雑でメンテナンスしづらい課題があった。
これを解決するため、フォームコンポーネントを「Viewコンポーネント」と「Controllerコンポーネント」に分ける設計方針を採用した。
Viewは見た目に特化し、ControllerはRHFとViewの連携を担当するコンポーネントとして、それぞれの責務を明確にした。
また、可能な場合は非制御コンポーネントとして連携する方針を採用し、パフォーマンスの向上を図った。
これにより、フォームコンポーネントの設計が整理され、メンテナンス性と汎用性が向上した。

[MUI v5 とReact Hook Form v7 を連携させる際の設計と実装例の紹介](https://zenn.dev/buyselltech/articles/51da30508f9687)

### リユース特化のOMS（Order Management System）の開発 Phase0

#### 概要

|項目|詳細|
|---|---|
|期間|2021/07~2022/07|
|チーム構成|EM 1名、PdM 1名、バックエンド 3名、フロントエンド 3名|
|役割|プロジェクトリーダー、フルスタックエンジニア|
|使用技術|**インフラ**<br/>Google Cloud、Terraform、PostgreSQL<br/><br/>**バックエンド**<br/>GraphQL、Hasura、OpenAPI、oapi-codegen、Go、gqlgen、GORM、Elasticsearch<br/><br/>**フロントエンド**<br/>React、Next.js、TypeScript、Apollo Client、GraphQL Code Generator、React Hook Form、zod、MUI、Storybook|

#### プロジェクト内容

リユース特化のOMS（Order Management System）の開発のプロジェクト発足~プロジェクト再定義のフェーズ。

プロジェクト立ち上げのフェーズのため、主に技術選定や開発環境の整備を行った。
機能の実装もいくつか行ったが、1年程開発を行ったところで、プロジェクトの見直しが行われた。
将来的なSaaS化を見据えた時に、プロダクトのビジョンが明確でなかったことや、現状の設計が適切でないことが判明し、プロジェクトの再定義を行うことになった。

#### 担当業務

- プロジェクトマネジメント
    - 要件定義
    - 詳細仕様作成
    - スケジュール管理
- バックエンド
    - 技術選定
    - CI・CD構築
    - DB設計
    - 機能実装
- フロントエンド
    - 技術選定
    - CI・CD構築
    - コンポーネント設計
    - 機能実装

#### 主要実績

##### プロダクト全体の技術選定

バックエンド・フロントエンド両方の技術選定に携わった。
主要な技術選定の背景や振り返りについては下記を参照。

[3年間に及ぶ新規プロダクト開発の技術選定の振り返り](https://tech.buysell-technologies.com/entry/adventcalendar2024-12-01)

##### 開発生産性向上のための取り組み

チームリーダーとして、スクラムの導入や開発生産性向上のための取り組みを主導した。
具体的には、KPIとしてPR作成数を設定し、KPIを達成するための施策をスプリントごとに検討・実施を行った。

具体的な取り組みに関しては、下記を参照。

[生産性が上がり続けるチームを作るための第一歩](https://speakerdeck.com/kazukihayase/sheng-chan-xing-gashang-garisok-kerutimuwozuo-rutamenodi-bu)

##### OpenAPIの分割

インターン時代に参画していたプロジェクトでは、OpenAPIのファイルが肥大化しており、全体像の把握が困難であったりファイルを開くのに時間がかかるといった問題があった。
その反省を踏まえ、今回のプロジェクトではOpenAPIの分割を行い、それぞれのファイルを小さく保つことで、全体像の把握が容易になるように設計した。

[治安のいいOpenAPIの開発環境を作る](https://tech.buysell-technologies.com/entry/2021/09/21/095238)

### EC出品用商品撮影アプリのフルリプレイス

#### 概要

|項目|詳細|
|---|---|
|期間|2021/04~2024/08|
|チーム構成|PdM 1名、iOS 3名、バックエンド 2名 |
|役割|フルスタックエンジニア|
|使用技術|**インフラ**<br/>AWS、AWS SAM、Lambda、DynamoDB<br/><br/>**バックエンド**<br/>OpenAPI、OpenAPI Generator、Go<br/><br/>**iOS**<br/>Swift、RxSwift|

#### プロジェクト内容

リユース事業の出品業務における商品撮影アプリのフルリプレイスプロジェクト。

撮影が完了したものから順次出品していくという業務フローであったため、撮影効率が出品効率並びに売り上げに影響していた。そのため撮影効率向上のために業務フロー自体の見直しを行うことになったが、既存アプリが特定の業務フローのみにしか対応していない仕様であったので既存アプリのままでは業務フローの変更が行えない状況であった。
また既存アプリではパフォーマンス・保守性がともに低く、将来的なことも考えた結果、リプレイスするに至った。

3ヶ月で開発~テストまで行い、リリースに至った。
既存アプリからのリプレイスを完遂し、業務時間を20%削減することに成功した。

#### 担当業務

- バックエンド
    - 技術選定
    - CI・CD構築
    - DB設計
    - 機能実装
- iOS
    - 機能実装

#### 主要実績

##### バックエンドの技術選定

小規模なサービスであったため、低コストで運用できるLambda + DynamoDBを用いたサーバーレスアーキテクチャを採用した。
デプロイフレームワークにAWS SAMを採用し、CircleCIを用いてCI・CDを構築した。

デプロイフレームワークとしてServerlessFrameworkも候補に上がった。
そのため、AWS SAMとServerlessFrameworkをそれぞれ用いて、ローカルでの開発環境の整備からデプロイまでを試行し、比較検討を行った。
その結果、主にローカルでの開発が行いやすい点を重視して、AWS SAMを採用した。

- [AWS SAM + OpenAPI(Swagger) + Golang でサーバーレスなAPIを構築する](https://zenn.dev/buyselltech/articles/2275dd27c3c9cd)

##### AWS Step Functionsを用いたバッチ処理の実装

AWS Step Functionsを用いて画像の生データを別のS3にコピーし、出品管理サービスのFTPサーバーへアップロードするバッチ処理を実装した。
Lambda単体の責務は小さくし、実行順序はStep Functionsで管理することで、Lambda同士を疎結合にし保守性が高くなるように設計した。

この構成にしたことで、リリース後に連携先を増やすことがあったが、その際も既存のLambdaに手を加えることなく、新規Lambdaの実装とStep Functionsの設定のみで対応できた。

#### 参考資料

- [AWS SDK for Go v2 を使ってS3に画像をアップロードする](https://zenn.dev/buyselltech/articles/fcde880dbbb493)

# WIP: その他

### インターンシップ運営

### 採用活動

### オンボーディング課題の作成

### 外部発信
